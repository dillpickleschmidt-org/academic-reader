/* ========================================
   Tailwind & shadcn Imports
   ======================================== */
@import "tailwindcss";
@source "../../../shared/core/src";
@import "tw-animate-css";
@import "shadcn/tailwind.css";
@import "@fontsource-variable/inter";
@import "./color-animation.css";

@custom-variant dark (&:is(.dark *));

/* ========================================
   Shared Color Theme Mappings
   All themes use these to map palette â†’ semantic variables
   ======================================== */

/* Light mode: map --theme-light-* to semantic variables */
[data-color-theme] {
  --background: var(--theme-light-background);
  --foreground: var(--theme-light-foreground);
  --card: var(--theme-light-card);
  --card-foreground: var(--theme-light-card-foreground);
  --popover: var(--theme-light-popover);
  --popover-foreground: var(--theme-light-popover-foreground);
  --primary: var(--primary-animated);
  --primary-foreground: var(--theme-light-primary-foreground);
  --secondary: var(--theme-light-secondary);
  --secondary-foreground: var(--theme-light-secondary-foreground);
  --muted: var(--theme-light-muted);
  --muted-foreground: var(--theme-light-muted-foreground);
  --accent: var(--theme-light-accent);
  --accent-foreground: var(--theme-light-accent-foreground);
  --destructive: var(--theme-light-destructive);
  --border: var(--theme-light-border);
  --input: var(--theme-light-input);
  --ring: var(--theme-light-ring);
}

/* Dark mode: map --theme-dark-* to semantic variables */
[data-color-theme].dark {
  --background: var(--theme-dark-background);
  --foreground: var(--theme-dark-foreground);
  --card: var(--theme-dark-card);
  --card-foreground: var(--theme-dark-card-foreground);
  --popover: var(--theme-dark-popover);
  --popover-foreground: var(--theme-dark-popover-foreground);
  --primary: var(--primary-animated);
  --primary-foreground: var(--theme-dark-primary-foreground);
  --secondary: var(--theme-dark-secondary);
  --secondary-foreground: var(--theme-dark-secondary-foreground);
  --muted: var(--theme-dark-muted);
  --muted-foreground: var(--theme-dark-muted-foreground);
  --accent: var(--theme-dark-accent);
  --accent-foreground: var(--theme-dark-accent-foreground);
  --destructive: var(--theme-dark-destructive);
  --border: var(--theme-dark-border);
  --input: var(--theme-dark-input);
  --ring: var(--theme-dark-ring);
}

/* ========================================
   Color Theme: Basic
   ======================================== */
[data-color-theme="basic"] {
  /* Light mode palette (for reader mode reference) */
  --theme-light-background: oklch(1 0 0);
  --theme-light-foreground: oklch(0.1450 0 0);
  --theme-light-card: oklch(1 0 0);
  --theme-light-card-foreground: oklch(0.1450 0 0);
  --theme-light-popover: oklch(1 0 0);
  --theme-light-popover-foreground: oklch(0.1450 0 0);
  --theme-light-primary: oklch(0.705 0.213 47.604);
  --theme-light-primary-foreground: oklch(0.98 0.03 47.604);
  --theme-light-secondary: oklch(0.9700 0 0);
  --theme-light-secondary-foreground: oklch(0.2050 0 0);
  --theme-light-muted: oklch(0.9700 0 0);
  --theme-light-muted-foreground: oklch(0.5560 0 0);
  --theme-light-accent: oklch(0.9700 0 0);
  --theme-light-accent-foreground: oklch(0.2050 0 0);
  --theme-light-destructive: oklch(0.5770 0.2450 27.3250);
  --theme-light-border: oklch(0.9220 0 0);
  --theme-light-input: oklch(0.9220 0 0);
  --theme-light-ring: oklch(0.7080 0 0);

  /* Dark mode palette (for reader mode reference) */
  --theme-dark-background: oklch(0.1450 0 0);
  --theme-dark-foreground: oklch(0.9850 0 0);
  --theme-dark-card: oklch(0.2050 0 0);
  --theme-dark-card-foreground: oklch(0.9850 0 0);
  --theme-dark-popover: oklch(0.2690 0 0);
  --theme-dark-popover-foreground: oklch(0.9850 0 0);
  --theme-dark-primary: oklch(0.73 0.19 47.604);
  --theme-dark-primary-foreground: oklch(0.25 0.05 47.604);
  --theme-dark-secondary: oklch(0.2690 0 0);
  --theme-dark-secondary-foreground: oklch(0.9850 0 0);
  --theme-dark-muted: oklch(0.2690 0 0);
  --theme-dark-muted-foreground: oklch(0.7080 0 0);
  --theme-dark-accent: oklch(0.3710 0 0);
  --theme-dark-accent-foreground: oklch(0.9850 0 0);
  --theme-dark-destructive: oklch(0.7040 0.1910 22.2160);
  --theme-dark-border: oklch(0.2750 0 0);
  --theme-dark-input: oklch(0.3250 0 0);
  --theme-dark-ring: oklch(0.5560 0 0);

  /* Theme-specific */
  --chart-1: oklch(0.82 0.18 47.604);
  --chart-2: oklch(0.76 0.20 47.604);
  --chart-3: oklch(0.705 0.213 47.604);
  --chart-4: oklch(0.62 0.19 47.604);
  --chart-5: oklch(0.54 0.16 47.604);
  --radius: 0.625rem;

  /* Sidebar (always follows system mode) */
  --sidebar: oklch(1 0 0);
  --sidebar-foreground: oklch(0.1450 0 0);
  --sidebar-primary: var(--primary-animated);
  --sidebar-primary-foreground: oklch(0.98 0.03 47.604);
  --sidebar-accent: oklch(0.9700 0 0);
  --sidebar-accent-foreground: oklch(0.2050 0 0);
  --sidebar-border: oklch(0.9220 0 0);
  --sidebar-ring: oklch(0.7080 0 0);

  /* Fonts */
  --font-sans: "Inter Variable", sans-serif;
  --font-serif: "Georgia", "Times New Roman", serif;
  --font-mono: "SF Mono", "Fira Code", "Consolas", monospace;
}

/* Basic theme: dark mode overrides */
[data-color-theme="basic"].dark {
  --sidebar: oklch(0.175 0 0);
  --sidebar-foreground: oklch(0.9850 0 0);
  --sidebar-primary: var(--primary-animated);
  --sidebar-primary-foreground: oklch(0.25 0.05 47.604);
  --sidebar-accent: oklch(0.2690 0 0);
  --sidebar-accent-foreground: oklch(0.9850 0 0);
  --sidebar-border: oklch(0.2750 0 0);
  --sidebar-ring: oklch(0.5560 0 0);
}

/* ========================================
   Color Theme: Amethyst Haze
   ======================================== */
[data-color-theme="amethyst-haze"] {
  /* Light mode palette */
  --theme-light-background: oklch(0.9777 0.0041 301.4256);
  --theme-light-foreground: oklch(0.3651 0.0325 287.0807);
  --theme-light-card: oklch(1 0 0);
  --theme-light-card-foreground: oklch(0.3651 0.0325 287.0807);
  --theme-light-popover: oklch(1 0 0);
  --theme-light-popover-foreground: oklch(0.3651 0.0325 287.0807);
  --theme-light-primary: oklch(0.6104 0.0767 299.7335);
  --theme-light-primary-foreground: oklch(0.9777 0.0041 301.4256);
  --theme-light-secondary: oklch(0.8957 0.0265 300.2416);
  --theme-light-secondary-foreground: oklch(0.3651 0.0325 287.0807);
  --theme-light-muted: oklch(0.8906 0.0139 299.7754);
  --theme-light-muted-foreground: oklch(0.5288 0.0375 290.7895);
  --theme-light-accent: oklch(0.7889 0.0802 359.9375);
  --theme-light-accent-foreground: oklch(0.3394 0.0441 1.7583);
  --theme-light-destructive: oklch(0.6332 0.1578 22.6734);
  --theme-light-border: oklch(0.8447 0.0226 300.1421);
  --theme-light-input: oklch(0.9329 0.0124 301.2783);
  --theme-light-ring: oklch(0.6104 0.0767 299.7335);

  /* Dark mode palette */
  --theme-dark-background: oklch(0.2166 0.0215 292.8474);
  --theme-dark-foreground: oklch(0.9053 0.0245 293.557);
  --theme-dark-card: oklch(0.2544 0.0301 292.7315);
  --theme-dark-card-foreground: oklch(0.9053 0.0245 293.557);
  --theme-dark-popover: oklch(0.2544 0.0301 292.7315);
  --theme-dark-popover-foreground: oklch(0.9053 0.0245 293.557);
  --theme-dark-primary: oklch(0.7058 0.0777 302.0489);
  --theme-dark-primary-foreground: oklch(0.2166 0.0215 292.8474);
  --theme-dark-secondary: oklch(0.4604 0.0472 295.5578);
  --theme-dark-secondary-foreground: oklch(0.9053 0.0245 293.557);
  --theme-dark-muted: oklch(0.256 0.032 294.838);
  --theme-dark-muted-foreground: oklch(0.6974 0.0282 300.0614);
  --theme-dark-accent: oklch(0.3181 0.0321 308.6149);
  --theme-dark-accent-foreground: oklch(0.8391 0.0692 2.6681);
  --theme-dark-destructive: oklch(0.6875 0.142 21.4566);
  --theme-dark-border: oklch(0.3063 0.0359 293.3367);
  --theme-dark-input: oklch(0.2847 0.0346 291.2726);
  --theme-dark-ring: oklch(0.7058 0.0777 302.0489);

  /* Theme-specific */
  --chart-1: oklch(0.6104 0.0767 299.7335);
  --chart-2: oklch(0.7889 0.0802 359.9375);
  --chart-3: oklch(0.7321 0.0749 169.867);
  --chart-4: oklch(0.854 0.0882 76.8292);
  --chart-5: oklch(0.7857 0.0645 258.0839);
  --radius: 0.5rem;

  /* Sidebar (light) */
  --sidebar: oklch(0.9554 0.0082 301.3541);
  --sidebar-foreground: oklch(0.3651 0.0325 287.0807);
  --sidebar-primary: oklch(0.6104 0.0767 299.7335);
  --sidebar-primary-foreground: oklch(0.9777 0.0041 301.4256);
  --sidebar-accent: oklch(0.7889 0.0802 359.9375);
  --sidebar-accent-foreground: oklch(0.3394 0.0441 1.7583);
  --sidebar-border: oklch(0.8719 0.0198 302.169);
  --sidebar-ring: oklch(0.6104 0.0767 299.7335);

  /* Fonts */
  --font-sans: "Geist Variable", sans-serif;
  --font-serif: "Lora Variable", Georgia, serif;
  --font-mono: "Fira Code", "Courier New", monospace;
}

/* Amethyst Haze: dark mode overrides */
[data-color-theme="amethyst-haze"].dark {
  --sidebar: oklch(0.1985 0.02 293.6639);
  --sidebar-foreground: oklch(0.9053 0.0245 293.557);
  --sidebar-primary: oklch(0.7058 0.0777 302.0489);
  --sidebar-primary-foreground: oklch(0.2166 0.0215 292.8474);
  --sidebar-accent: oklch(0.3181 0.0321 308.6149);
  --sidebar-accent-foreground: oklch(0.8391 0.0692 2.6681);
  --sidebar-border: oklch(0.2847 0.0346 291.2726);
  --sidebar-ring: oklch(0.7058 0.0777 302.0489);
}

/* ========================================
   Color Theme: Caffeine
   Warm coffee/brown theme
   ======================================== */

[data-color-theme="caffeine"] {
  /* Light mode palette */
  --theme-light-background: oklch(0.9821 0 0);
  --theme-light-foreground: oklch(0.2435 0 0);
  --theme-light-card: oklch(0.9911 0 0);
  --theme-light-card-foreground: oklch(0.2435 0 0);
  --theme-light-popover: oklch(0.9911 0 0);
  --theme-light-popover-foreground: oklch(0.2435 0 0);
  --theme-light-primary: oklch(0.4341 0.0392 41.9938);
  --theme-light-primary-foreground: oklch(1 0 0);
  --theme-light-secondary: oklch(0.92 0.0651 74.3695);
  --theme-light-secondary-foreground: oklch(0.3499 0.0685 40.8288);
  --theme-light-muted: oklch(0.9521 0 0);
  --theme-light-muted-foreground: oklch(0.5032 0 0);
  --theme-light-accent: oklch(0.931 0 0);
  --theme-light-accent-foreground: oklch(0.2435 0 0);
  --theme-light-destructive: oklch(0.6271 0.1936 33.339);
  --theme-light-border: oklch(0.8822 0 0);
  --theme-light-input: oklch(0.8822 0 0);
  --theme-light-ring: oklch(0.4341 0.0392 41.9938);

  /* Dark mode palette */
  --theme-dark-background: oklch(0.1776 0 0);
  --theme-dark-foreground: oklch(0.9491 0 0);
  --theme-dark-card: oklch(0.2134 0 0);
  --theme-dark-card-foreground: oklch(0.9491 0 0);
  --theme-dark-popover: oklch(0.2134 0 0);
  --theme-dark-popover-foreground: oklch(0.9491 0 0);
  --theme-dark-primary: oklch(0.9247 0.0524 66.1732);
  --theme-dark-primary-foreground: oklch(0.2029 0.024 200.1962);
  --theme-dark-secondary: oklch(0.3163 0.019 63.6992);
  --theme-dark-secondary-foreground: oklch(0.9247 0.0524 66.1732);
  --theme-dark-muted: oklch(0.252 0 0);
  --theme-dark-muted-foreground: oklch(0.7699 0 0);
  --theme-dark-accent: oklch(0.285 0 0);
  --theme-dark-accent-foreground: oklch(0.9491 0 0);
  --theme-dark-destructive: oklch(0.6271 0.1936 33.339);
  --theme-dark-border: oklch(0.2351 0.0115 91.7467);
  --theme-dark-input: oklch(0.4017 0 0);
  --theme-dark-ring: oklch(0.9247 0.0524 66.1732);

  /* Theme-specific */
  --destructive-foreground: oklch(1 0 0);
  --chart-1: oklch(0.4341 0.0392 41.9938);
  --chart-2: oklch(0.92 0.0651 74.3695);
  --chart-3: oklch(0.931 0 0);
  --chart-4: oklch(0.9367 0.0523 75.5009);
  --chart-5: oklch(0.4338 0.0437 41.6746);
  --radius: 0.5rem;

  /* Sidebar (light) */
  --sidebar: oklch(0.9881 0 0);
  --sidebar-foreground: oklch(0.2645 0 0);
  --sidebar-primary: oklch(0.92 0.0651 74.3695);
  --sidebar-primary-foreground: oklch(0.3499 0.0685 40.8288);
  --sidebar-accent: oklch(0.9761 0 0);
  --sidebar-accent-foreground: oklch(0.325 0 0);
  --sidebar-border: oklch(0.9401 0 0);
  --sidebar-ring: oklch(0.92 0.0651 74.3695);

  /* Fonts */
  --font-sans:
    ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-mono:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;

  /* Shadows */
  --shadow-x: 0;
  --shadow-y: 1px;
  --shadow-blur: 3px;
  --shadow-spread: 0px;
  --shadow-opacity: 0.1;
  --shadow-color: oklch(0 0 0);
  --shadow-2xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
  --shadow-xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
  --shadow-sm:
    0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
  --shadow: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
  --shadow-md:
    0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 2px 4px -1px hsl(0 0% 0% / 0.1);
  --shadow-lg:
    0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 4px 6px -1px hsl(0 0% 0% / 0.1);
  --shadow-xl:
    0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 8px 10px -1px hsl(0 0% 0% / 0.1);
  --shadow-2xl: 0 1px 3px 0px hsl(0 0% 0% / 0.25);
}

/* Caffeine: dark mode overrides */
[data-color-theme="caffeine"].dark {
  --destructive-foreground: oklch(1 0 0);
  --chart-1: oklch(0.9247 0.0524 66.1732);
  --chart-2: oklch(0.3163 0.019 63.6992);
  --chart-3: oklch(0.285 0 0);
  --chart-4: oklch(0.3481 0.0219 67.0001);
  --chart-5: oklch(0.9245 0.0533 67.0855);
  --sidebar: oklch(0.1776 0 0);
  --sidebar-foreground: oklch(0.9491 0 0);
  --sidebar-primary: oklch(0.3163 0.019 63.6992);
  --sidebar-primary-foreground: oklch(0.9247 0.0524 66.1732);
  --sidebar-accent: oklch(0.285 0 0);
  --sidebar-accent-foreground: oklch(0.9491 0 0);
  --sidebar-border: oklch(0.2351 0.0115 91.7467);
  --sidebar-ring: oklch(0.3163 0.019 63.6992);
}

/* ========================================
   Color Theme: Perpetuity
   ======================================== */
[data-color-theme="perpetuity"] {
  /* Light mode palette */
  --theme-light-background: oklch(0.9491 0.0085 197.0126);
  --theme-light-foreground: oklch(0.3772 0.0619 212.664);
  --theme-light-card: oklch(0.9724 0.0053 197.0692);
  --theme-light-card-foreground: oklch(0.3772 0.0619 212.664);
  --theme-light-popover: oklch(0.9724 0.0053 197.0692);
  --theme-light-popover-foreground: oklch(0.3772 0.0619 212.664);
  --theme-light-primary: oklch(0.5624 0.0947 203.2755);
  --theme-light-primary-foreground: oklch(1 0 0);
  --theme-light-secondary: oklch(0.9244 0.0181 196.845);
  --theme-light-secondary-foreground: oklch(0.3772 0.0619 212.664);
  --theme-light-muted: oklch(0.9295 0.0107 196.9723);
  --theme-light-muted-foreground: oklch(0.5428 0.0594 201.5662);
  --theme-light-accent: oklch(0.9021 0.0297 201.8915);
  --theme-light-accent-foreground: oklch(0.3772 0.0619 212.664);
  --theme-light-destructive: oklch(0.5732 0.1901 25.5409);
  --theme-light-border: oklch(0.8931 0.0205 204.4136);
  --theme-light-input: oklch(0.9244 0.0181 196.845);
  --theme-light-ring: oklch(0.5624 0.0947 203.2755);

  /* Dark mode palette */
  --theme-dark-background: oklch(0.2068 0.0247 224.4533);
  --theme-dark-foreground: oklch(0.852 0.1269 195.0354);
  --theme-dark-card: oklch(0.2293 0.0276 216.0674);
  --theme-dark-card-foreground: oklch(0.852 0.1269 195.0354);
  --theme-dark-popover: oklch(0.2293 0.0276 216.0674);
  --theme-dark-popover-foreground: oklch(0.852 0.1269 195.0354);
  --theme-dark-primary: oklch(0.852 0.1269 195.0354);
  --theme-dark-primary-foreground: oklch(0.2068 0.0247 224.4533);
  --theme-dark-secondary: oklch(0.3775 0.0564 216.501);
  --theme-dark-secondary-foreground: oklch(0.852 0.1269 195.0354);
  --theme-dark-muted: oklch(0.2894 0.0412 218.8153);
  --theme-dark-muted-foreground: oklch(0.6611 0.0975 195.0526);
  --theme-dark-accent: oklch(0.3775 0.0564 216.501);
  --theme-dark-accent-foreground: oklch(0.852 0.1269 195.0354);
  --theme-dark-destructive: oklch(0.6168 0.2086 25.8088);
  --theme-dark-border: oklch(0.3775 0.0564 216.501);
  --theme-dark-input: oklch(0.3775 0.0564 216.501);
  --theme-dark-ring: oklch(0.852 0.1269 195.0354);

  /* Theme-specific */
  --chart-1: oklch(0.5624 0.0947 203.2755);
  --chart-2: oklch(0.6389 0.1029 201.5918);
  --chart-3: oklch(0.7124 0.1075 201.2486);
  --chart-4: oklch(0.7701 0.0979 201.1816);
  --chart-5: oklch(0.8336 0.0771 200.9702);
  --radius: 0.125rem;

  /* Sidebar (light) */
  --sidebar: oklch(0.928 0.0183 205.3151);
  --sidebar-foreground: oklch(0.3772 0.0619 212.664);
  --sidebar-primary: oklch(0.5624 0.0947 203.2755);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.9021 0.0297 201.8915);
  --sidebar-accent-foreground: oklch(0.3772 0.0619 212.664);
  --sidebar-border: oklch(0.8931 0.0205 204.4136);
  --sidebar-ring: oklch(0.5624 0.0947 203.2755);

  /* Fonts */
  --font-sans: "Courier New", monospace;
  --font-serif: "Courier New", monospace;
  --font-mono: "Courier New", monospace;
}

/* Perpetuity: dark mode overrides */
[data-color-theme="perpetuity"].dark {
  --chart-1: oklch(0.852 0.1269 195.0354);
  --chart-2: oklch(0.6611 0.0975 195.0526);
  --chart-3: oklch(0.5804 0.0849 195.0673);
  --chart-4: oklch(0.4269 0.063 202.6247);
  --chart-5: oklch(0.3142 0.0455 204.1575);
  --sidebar: oklch(0.2068 0.0247 224.4533);
  --sidebar-foreground: oklch(0.852 0.1269 195.0354);
  --sidebar-primary: oklch(0.852 0.1269 195.0354);
  --sidebar-primary-foreground: oklch(0.2068 0.0247 224.4533);
  --sidebar-accent: oklch(0.3775 0.0564 216.501);
  --sidebar-accent-foreground: oklch(0.852 0.1269 195.0354);
  --sidebar-border: oklch(0.3775 0.0564 216.501);
  --sidebar-ring: oklch(0.852 0.1269 195.0354);

  /* Fonts (dark mode uses Source Code Pro) */
  --font-sans: "Source Code Pro Variable", monospace;
  --font-serif: "Source Code Pro Variable", monospace;
  --font-mono: "Source Code Pro Variable", monospace;
}

/* ========================================
   Color Theme: Notebook
   ======================================== */
[data-color-theme="notebook"] {
  /* Light mode palette */
  --theme-light-background: oklch(0.9821 0 0);
  --theme-light-foreground: oklch(0.3485 0 0);
  --theme-light-card: oklch(1 0 0);
  --theme-light-card-foreground: oklch(0.3485 0 0);
  --theme-light-popover: oklch(1 0 0);
  --theme-light-popover-foreground: oklch(0.3485 0 0);
  --theme-light-primary: oklch(0.4891 0 0);
  --theme-light-primary-foreground: oklch(0.9551 0 0);
  --theme-light-secondary: oklch(0.9006 0 0);
  --theme-light-secondary-foreground: oklch(0.3485 0 0);
  --theme-light-muted: oklch(0.9158 0 0);
  --theme-light-muted-foreground: oklch(0.4313 0 0);
  --theme-light-accent: oklch(0.9354 0.0456 94.8549);
  --theme-light-accent-foreground: oklch(0.4015 0.0436 37.9587);
  --theme-light-destructive: oklch(0.6627 0.0978 20.0041);
  --theme-light-border: oklch(0.5538 0.0025 17.232);
  --theme-light-input: oklch(1 0 0);
  --theme-light-ring: oklch(0.7058 0 0);

  /* Dark mode palette */
  --theme-dark-background: oklch(0.2891 0 0);
  --theme-dark-foreground: oklch(0.8945 0 0);
  --theme-dark-card: oklch(0.3211 0 0);
  --theme-dark-card-foreground: oklch(0.8945 0 0);
  --theme-dark-popover: oklch(0.3211 0 0);
  --theme-dark-popover-foreground: oklch(0.8945 0 0);
  --theme-dark-primary: oklch(0.7572 0 0);
  --theme-dark-primary-foreground: oklch(0.2891 0 0);
  --theme-dark-secondary: oklch(0.4676 0 0);
  --theme-dark-secondary-foreground: oklch(0.8078 0 0);
  --theme-dark-muted: oklch(0.3904 0 0);
  --theme-dark-muted-foreground: oklch(0.7058 0 0);
  --theme-dark-accent: oklch(0.9067 0 0);
  --theme-dark-accent-foreground: oklch(0.3211 0 0);
  --theme-dark-destructive: oklch(0.7915 0.0491 18.241);
  --theme-dark-border: oklch(0.4276 0 0);
  --theme-dark-input: oklch(0.3211 0 0);
  --theme-dark-ring: oklch(0.8078 0 0);

  /* Theme-specific */
  --chart-1: oklch(0.3211 0 0);
  --chart-2: oklch(0.4495 0 0);
  --chart-3: oklch(0.5693 0 0);
  --chart-4: oklch(0.683 0 0);
  --chart-5: oklch(0.7921 0 0);
  --radius: 0.625rem;

  /* Sidebar (light) */
  --sidebar: oklch(0.9551 0 0);
  --sidebar-foreground: oklch(0.3485 0 0);
  --sidebar-primary: oklch(0.4891 0 0);
  --sidebar-primary-foreground: oklch(0.9551 0 0);
  --sidebar-accent: oklch(0.9354 0.0456 94.8549);
  --sidebar-accent-foreground: oklch(0.4015 0.0436 37.9587);
  --sidebar-border: oklch(0.8078 0 0);
  --sidebar-ring: oklch(0.7058 0 0);

  /* Fonts */
  --font-sans: "Architects Daughter", sans-serif;
  --font-serif: "Times New Roman", Times, serif;
  --font-mono: "Courier New", Courier, monospace;
}

/* Notebook: dark mode overrides */
[data-color-theme="notebook"].dark {
  --chart-1: oklch(0.9521 0 0);
  --chart-2: oklch(0.8576 0 0);
  --chart-3: oklch(0.7572 0 0);
  --chart-4: oklch(0.6534 0 0);
  --chart-5: oklch(0.5452 0 0);
  --sidebar: oklch(0.2478 0 0);
  --sidebar-foreground: oklch(0.8945 0 0);
  --sidebar-primary: oklch(0.7572 0 0);
  --sidebar-primary-foreground: oklch(0.2478 0 0);
  --sidebar-accent: oklch(0.9067 0 0);
  --sidebar-accent-foreground: oklch(0.3211 0 0);
  --sidebar-border: oklch(0.4276 0 0);
  --sidebar-ring: oklch(0.8078 0 0);

  /* Fonts (same for dark mode) */
  --font-sans: "Architects Daughter", sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: "Fira Code", "Courier New", monospace;
}

/* ========================================
   Color Theme: Rose Quartz
   Pink/magenta theme
   ======================================== */

[data-color-theme="rose-quartz"] {
  /* Light mode palette */
  --theme-light-background: oklch(0.9754 0.0084 325.6414);
  --theme-light-foreground: oklch(0.3257 0.1161 325.0372);
  --theme-light-card: oklch(0.9754 0.0084 325.6414);
  --theme-light-card-foreground: oklch(0.3257 0.1161 325.0372);
  --theme-light-popover: oklch(1 0 0);
  --theme-light-popover-foreground: oklch(0.3257 0.1161 325.0372);
  --theme-light-primary: oklch(0.5316 0.1409 355.1999);
  --theme-light-primary-foreground: oklch(1 0 0);
  --theme-light-secondary: oklch(0.8696 0.0675 334.8991);
  --theme-light-secondary-foreground: oklch(0.4448 0.1341 324.7991);
  --theme-light-muted: oklch(0.9395 0.026 331.5454);
  --theme-light-muted-foreground: oklch(0.4924 0.1244 324.4523);
  --theme-light-accent: oklch(0.8696 0.0675 334.8991);
  --theme-light-accent-foreground: oklch(0.4448 0.1341 324.7991);
  --theme-light-destructive: oklch(0.5248 0.1368 20.8317);
  --theme-light-border: oklch(0.8568 0.0829 328.911);
  --theme-light-input: oklch(0.8517 0.0558 336.6002);
  --theme-light-ring: oklch(0.5916 0.218 0.5844);

  /* Dark mode palette */
  --theme-dark-background: oklch(0.2409 0.0201 307.5346);
  --theme-dark-foreground: oklch(0.8398 0.0387 309.5391);
  --theme-dark-card: oklch(0.2803 0.0232 307.5413);
  --theme-dark-card-foreground: oklch(0.8456 0.0302 341.4597);
  --theme-dark-popover: oklch(0.1548 0.0132 338.9015);
  --theme-dark-popover-foreground: oklch(0.9647 0.0091 341.8035);
  --theme-dark-primary: oklch(0.4607 0.1853 4.0994);
  --theme-dark-primary-foreground: oklch(0.856 0.0618 346.3684);
  --theme-dark-secondary: oklch(0.3137 0.0306 310.061);
  --theme-dark-secondary-foreground: oklch(0.8483 0.0382 307.9613);
  --theme-dark-muted: oklch(0.2634 0.0219 309.4748);
  --theme-dark-muted-foreground: oklch(0.794 0.0372 307.1032);
  --theme-dark-accent: oklch(0.3649 0.0508 308.4911);
  --theme-dark-accent-foreground: oklch(0.9647 0.0091 341.8035);
  --theme-dark-destructive: oklch(0.2258 0.0524 12.6119);
  --theme-dark-border: oklch(0.3286 0.0154 343.4461);
  --theme-dark-input: oklch(0.3387 0.0195 332.8347);
  --theme-dark-ring: oklch(0.5916 0.218 0.5844);

  /* Theme-specific */
  --destructive-foreground: oklch(1 0 0);
  --chart-1: oklch(0.6038 0.2363 344.4657);
  --chart-2: oklch(0.4445 0.2251 300.6246);
  --chart-3: oklch(0.379 0.0438 226.1538);
  --chart-4: oklch(0.833 0.1185 88.3461);
  --chart-5: oklch(0.7843 0.1256 58.9964);
  --sidebar: oklch(0.936 0.0288 320.5788);
  --sidebar-foreground: oklch(0.4948 0.1909 354.5435);
  --sidebar-primary: oklch(0.5316 0.1409 355.1999);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.9789 0.0013 106.4235);
  --sidebar-accent-foreground: oklch(0.3963 0.0251 285.1962);
  --sidebar-border: oklch(0.9383 0.0026 48.7178);
  --sidebar-ring: oklch(0.5316 0.1409 355.1999);

  /* Fonts */
  --font-sans:
    ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-mono:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;

  /* Layout */
  --radius: 0.5rem;
  --tracking-normal: 0em;
  --spacing: 0.25rem;

  /* Shadows */
  --shadow-x: 0;
  --shadow-y: 1px;
  --shadow-blur: 3px;
  --shadow-spread: 0px;
  --shadow-opacity: 0.1;
  --shadow-color: oklch(0 0 0);
  --shadow-2xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
  --shadow-xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
  --shadow-sm:
    0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
  --shadow: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
  --shadow-md:
    0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 2px 4px -1px hsl(0 0% 0% / 0.1);
  --shadow-lg:
    0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 4px 6px -1px hsl(0 0% 0% / 0.1);
  --shadow-xl:
    0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 8px 10px -1px hsl(0 0% 0% / 0.1);
  --shadow-2xl: 0 1px 3px 0px hsl(0 0% 0% / 0.25);
}

/* Rose Quartz: dark mode overrides */
[data-color-theme="rose-quartz"].dark {
  --destructive-foreground: oklch(1 0 0);
  --chart-1: oklch(0.5316 0.1409 355.1999);
  --chart-2: oklch(0.5633 0.1912 306.8561);
  --chart-3: oklch(0.7227 0.1502 60.5799);
  --chart-4: oklch(0.6193 0.2029 312.7422);
  --chart-5: oklch(0.6118 0.2093 6.1387);
  --sidebar: oklch(0.1893 0.0163 331.0475);
  --sidebar-foreground: oklch(0.8607 0.0293 343.6612);
  --sidebar-primary: oklch(0.4607 0.1853 4.0994);
  --sidebar-primary-foreground: oklch(0.856 0.0618 346.3684);
  --sidebar-accent: oklch(0.2337 0.0261 338.1961);
  --sidebar-accent-foreground: oklch(0.9674 0.0013 286.3752);
  --sidebar-border: oklch(0 0 0);
  --sidebar-ring: oklch(0.4607 0.1853 4.0994);
}

/* ========================================
   Color Theme: Vintage Paper
   Warm sepia/parchment theme
   ======================================== */

[data-color-theme="vintage-paper"] {
  /* Light mode palette */
  --theme-light-background: oklch(0.9582 0.0152 90.2357);
  --theme-light-foreground: oklch(0.376 0.0225 64.3434);
  --theme-light-card: oklch(0.9914 0.0098 87.4695);
  --theme-light-card-foreground: oklch(0.376 0.0225 64.3434);
  --theme-light-popover: oklch(0.9914 0.0098 87.4695);
  --theme-light-popover-foreground: oklch(0.376 0.0225 64.3434);
  --theme-light-primary: oklch(0.618 0.0778 65.5444);
  --theme-light-primary-foreground: oklch(1 0 0);
  --theme-light-secondary: oklch(0.8846 0.0302 85.5655);
  --theme-light-secondary-foreground: oklch(0.4313 0.03 64.9288);
  --theme-light-muted: oklch(0.9239 0.019 83.0636);
  --theme-light-muted-foreground: oklch(0.5391 0.0387 71.1655);
  --theme-light-accent: oklch(0.8348 0.0426 88.8064);
  --theme-light-accent-foreground: oklch(0.376 0.0225 64.3434);
  --theme-light-destructive: oklch(0.5471 0.1438 32.9149);
  --theme-light-border: oklch(0.8606 0.0321 84.5881);
  --theme-light-input: oklch(0.8606 0.0321 84.5881);
  --theme-light-ring: oklch(0.618 0.0778 65.5444);

  /* Dark mode palette */
  --theme-dark-background: oklch(0.2747 0.0139 57.6523);
  --theme-dark-foreground: oklch(0.9239 0.019 83.0636);
  --theme-dark-card: oklch(0.3237 0.0155 59.0603);
  --theme-dark-card-foreground: oklch(0.9239 0.019 83.0636);
  --theme-dark-popover: oklch(0.3237 0.0155 59.0603);
  --theme-dark-popover-foreground: oklch(0.9239 0.019 83.0636);
  --theme-dark-primary: oklch(0.7264 0.0581 66.6967);
  --theme-dark-primary-foreground: oklch(0.2747 0.0139 57.6523);
  --theme-dark-secondary: oklch(0.3795 0.0181 57.128);
  --theme-dark-secondary-foreground: oklch(0.9239 0.019 83.0636);
  --theme-dark-muted: oklch(0.2939 0.0125 62.1298);
  --theme-dark-muted-foreground: oklch(0.7982 0.0243 82.1078);
  --theme-dark-accent: oklch(0.4186 0.0281 56.3404);
  --theme-dark-accent-foreground: oklch(0.9239 0.019 83.0636);
  --theme-dark-destructive: oklch(0.5471 0.1438 32.9149);
  --theme-dark-border: oklch(0.3795 0.0181 57.128);
  --theme-dark-input: oklch(0.3795 0.0181 57.128);
  --theme-dark-ring: oklch(0.7264 0.0581 66.6967);

  /* Theme-specific */
  --destructive-foreground: oklch(1 0 0);
  --chart-1: oklch(0.618 0.0778 65.5444);
  --chart-2: oklch(0.5604 0.0624 68.5805);
  --chart-3: oklch(0.4851 0.057 72.6827);
  --chart-4: oklch(0.6777 0.0624 64.7755);
  --chart-5: oklch(0.7264 0.0581 66.6967);
  --radius: 0.25rem;

  /* Sidebar (light) */
  --sidebar: oklch(0.9239 0.019 83.0636);
  --sidebar-foreground: oklch(0.376 0.0225 64.3434);
  --sidebar-primary: oklch(0.618 0.0778 65.5444);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.8348 0.0426 88.8064);
  --sidebar-accent-foreground: oklch(0.376 0.0225 64.3434);
  --sidebar-border: oklch(0.8606 0.0321 84.5881);
  --sidebar-ring: oklch(0.618 0.0778 65.5444);

  /* Fonts */
  --font-sans: "Libre Baskerville", serif;
  --font-serif: "Lora", serif;
  --font-mono: "IBM Plex Mono", monospace;

  /* Shadows (warm brown tint) */
  --shadow-x: 2px;
  --shadow-y: 3px;
  --shadow-blur: 5px;
  --shadow-spread: 0px;
  --shadow-opacity: 0.12;
  --shadow-color: hsl(28 13% 20%);
  --shadow-2xs: 2px 3px 5px 0px hsl(28 13% 20% / 0.06);
  --shadow-xs: 2px 3px 5px 0px hsl(28 13% 20% / 0.06);
  --shadow-sm:
    2px 3px 5px 0px hsl(28 13% 20% / 0.12),
    2px 1px 2px -1px hsl(28 13% 20% / 0.12);
  --shadow:
    2px 3px 5px 0px hsl(28 13% 20% / 0.12),
    2px 1px 2px -1px hsl(28 13% 20% / 0.12);
  --shadow-md:
    2px 3px 5px 0px hsl(28 13% 20% / 0.12),
    2px 2px 4px -1px hsl(28 13% 20% / 0.12);
  --shadow-lg:
    2px 3px 5px 0px hsl(28 13% 20% / 0.12),
    2px 4px 6px -1px hsl(28 13% 20% / 0.12);
  --shadow-xl:
    2px 3px 5px 0px hsl(28 13% 20% / 0.12),
    2px 8px 10px -1px hsl(28 13% 20% / 0.12);
  --shadow-2xl: 2px 3px 5px 0px hsl(28 13% 20% / 0.3);
}

/* Vintage Paper: dark mode overrides */
[data-color-theme="vintage-paper"].dark {
  --destructive-foreground: oklch(1 0 0);
  --chart-1: oklch(0.7264 0.0581 66.6967);
  --chart-2: oklch(0.6777 0.0624 64.7755);
  --chart-3: oklch(0.618 0.0778 65.5444);
  --chart-4: oklch(0.5604 0.0624 68.5805);
  --chart-5: oklch(0.4851 0.057 72.6827);
  --sidebar: oklch(0.2747 0.0139 57.6523);
  --sidebar-foreground: oklch(0.9239 0.019 83.0636);
  --sidebar-primary: oklch(0.7264 0.0581 66.6967);
  --sidebar-primary-foreground: oklch(0.2747 0.0139 57.6523);
  --sidebar-accent: oklch(0.4186 0.0281 56.3404);
  --sidebar-accent-foreground: oklch(0.9239 0.019 83.0636);
  --sidebar-border: oklch(0.3795 0.0181 57.128);
  --sidebar-ring: oklch(0.7264 0.0581 66.6967);
}

@theme inline {
  --font-sans: var(--font-sans);
  --font-serif: var(--font-serif);
  --font-mono: var(--font-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --color-foreground: var(--foreground);
  --color-background: var(--background);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
  --shadow-2xs: var(--shadow-2xs);
  --shadow-xs: var(--shadow-xs);
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
  --shadow-2xl: var(--shadow-2xl);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply font-sans bg-background text-foreground;
  }
  html {
    @apply font-sans antialiased;
    text-rendering: optimizeLegibility;
    overflow-y: scroll;
    overscroll-behavior-x: none;
  }
}

/* Smooth theme transitions for sidebar */
.bg-sidebar,
.bg-sidebar-border,
.border-sidebar-border {
  transition:
    background-color 0.3s,
    border-color 0.3s,
    color 0.3s;
}

/* Sidebar sepia tint in comfort mode */
[data-reader-mode="comfort"] {
  --sidebar: #e5dfd3;
  --sidebar-foreground: #3d3632;
  --sidebar-accent: #dbd4c7;
  --sidebar-accent-foreground: #3d3632;
  --sidebar-border: #d4cbbf;
}

/* Utility: Hide scrollbar while keeping scrollability */
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Collapsible panel animation (base-ui) */
[data-collapsible-panel] {
  overflow: hidden;
}
[data-collapsible-panel][data-open] {
  animation: collapsible-expand 200ms ease-out;
}
[data-collapsible-panel][data-closed] {
  animation: collapsible-collapse 200ms ease-out;
}
@keyframes collapsible-expand {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    height: var(--collapsible-panel-height);
    opacity: 1;
  }
}
@keyframes collapsible-collapse {
  from {
    height: var(--collapsible-panel-height);
    opacity: 1;
  }
  to {
    height: 0;
    opacity: 0;
  }
}
